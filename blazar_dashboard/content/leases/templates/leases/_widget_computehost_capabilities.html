<div id="criteria-computehost" style="margin-bottom:50px" data-switchable-class="{{ widget.switchable_class }}">
    <label id="no-criteria-warning-computehost" class="alert alert-danger" hidden="hidden">
        <strong>No filters are specified,</strong> random hardware will be
        assigned. Recommend that you
        <a href="#" class="cri-adder" data-cri-name="node_type">add a filter for a node type</a>
        or <a href="#" class="cri-adder" data-cri-name="uid">a specific node ID</a>.
    </label>
    <input id="criteria-payload-computehost" form_data="{{ widget.value }}" name="criteria-{{ widget.name }}" type="hidden">
    <div>
        <ul id="criteria-list-computehost" class="form-inline" style="padding-inline-start:0px;">
        </ul>
    </div>
    <button id="criteria-add-computehost" style="margin-top:10px;float:right;" type="button" class="btn btn-sm btn-success {{ widget.switchable_class }}">Add Filter</button>
</div>

<script>

var cri_div = document.querySelector('#criteria-computehost');
if (cri_div.dataset.loaded_once === undefined) {
	capabilitiesjs('computehost', cri_div.dataset.switchableClass);
	cri_div.dataset.loaded_once = true;
	console.log('loaded criteria widget code')
} else {
	console.log('blocked reload of widget code :/');
}

</script>
